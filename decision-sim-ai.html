<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DecisionSim AI ‚Äì Intelligent Decision Analysis</title>
<meta name="description" content="DecisionSim AI provides intelligent, non-repeating decision analysis for an international audience without using any API.">

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#f5f7fb;
  color:#1f2937;
  line-height:1.85
}
.container{
  max-width:1100px;
  margin:auto;
  padding:24px
}
header{
  text-align:center;
  padding:32px 10px
}
.tool{
  background:#ffffff;
  padding:28px;
  border-radius:16px;
  box-shadow:0 15px 35px rgba(0,0,0,.08)
}
textarea{
  width:100%;
  min-height:160px;
  padding:16px;
  font-size:16px;
  border-radius:12px;
  border:1px solid #d1d5db
}
button{
  margin-top:18px;
  width:100%;
  padding:15px;
  font-size:16px;
  border:none;
  border-radius:12px;
  background:#4f46e5;
  color:#ffffff;
  cursor:pointer
}
button:hover{background:#3730a3}
.output{
  margin-top:26px;
  padding:26px;
  background:#eef2ff;
  border-radius:14px;
  box-shadow:inset 0 0 0 1px rgba(79,70,229,.15)
}
.section-title{
  font-weight:600;
  margin-top:18px;
  margin-bottom:6px
}
.ad{
  background:#e5e7eb;
  padding:20px;
  margin:28px 0;
  text-align:center;
  border-radius:12px;
  font-size:14px
}
</style>
</head>

<body>
<div class="container">

<header>
<h1>DecisionSim AI</h1>
<p>Context-aware decision analysis for a global audience</p>
</header>

<div class="ad">AdSense Ad Here (Top)</div>

<div class="tool">
<h2>Describe your decision</h2>
<textarea id="input" placeholder="Example: Should I build a multiple-tool website for long-term AdSense income?"></textarea>
<button onclick="generate()">Analyze Decision</button>

<div id="output" class="output" style="display:none"></div>
</div>

<div class="ad">AdSense Ad Here (Bottom)</div>

</div>

<script>
const usedOutputs = new Set();

/* ---------- helpers ---------- */
function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

function hashSeed(text){
  let h=0;
  for(let i=0;i<text.length;i++) h=(h<<5)-h+text.charCodeAt(i);
  return Math.abs(h);
}

function normalizeInput(text){
  return text.toLowerCase()
    .replace(/kya|mujhe|banana|chahiye|abhi|baad|karna|hai/gi,"")
    .trim();
}

function detectContext(text){
  const t = text.toLowerCase();
  return {
    multiTool: t.includes("multiple") && t.includes("tool"),
    website: t.includes("website"),
    adsense: t.includes("adsense"),
    longTerm: t.includes("long") || t.includes("future"),
    income: t.includes("income") || t.includes("money"),
    timing: t.includes("now") || t.includes("start")
  };
}

/* ---------- generator ---------- */
function generate(){
  const raw = document.getElementById("input").value.trim();
  const out = document.getElementById("output");
  if(!raw){ alert("Please describe your decision."); return; }

  const input = normalizeInput(raw);
  const ctx = detectContext(raw);
  const seed = hashSeed(input + Date.now());

  let intro = rand([
    "This decision reflects a long-term strategic question rather than a short-term impulse.",
    "Your question shows an interest in sustainability, not just quick results.",
    "This is a decision that depends heavily on execution quality rather than the idea itself."
  ]);

  let direct = ctx.multiTool && ctx.website
    ? "Building a multiple-tool website can work, but only when approached with focus and realistic expectations."
    : "The outcome of this decision will depend more on how you proceed than on whether the idea is good or bad.";

  let analysis = rand([
    "Many projects fail not because the concept is weak, but because creators attempt to scale too quickly without validating demand.",
    "In competitive environments, depth and usefulness usually outperform volume and speed.",
    "Sustainable results tend to come from consistency, iteration, and patience rather than aggressive expansion."
  ]);

  let realistic = rand([
    "The most realistic scenario involves slow initial traction followed by gradual improvement as quality compounds.",
    "Expect a learning-heavy phase before any meaningful results appear.",
    "Progress is likely to be uneven, with periods of stagnation followed by small breakthroughs."
  ]);

  let practical = ctx.adsense
    ? "From an AdSense perspective, fewer high-quality tools supported by strong explanatory content generally perform better than many shallow tools."
    : "A phased execution strategy allows adjustment without excessive risk.";

  let reminder = rand([
    "Clarity improves once real-world feedback replaces assumptions.",
    "Finishing and refining often matters more than expanding.",
    "Momentum is built through execution, not planning alone."
  ]);

  let article = `
<div class="section-title">Decision Overview</div>
<p>${intro}</p>

<div class="section-title">Direct Insight</div>
<p>${direct}</p>

<div class="section-title">Key Analysis</div>
<p>${analysis}</p>

<div class="section-title">Most Realistic Outcome</div>
<p>${realistic}</p>

<div class="section-title">Practical Direction</div>
<p>${practical}</p>

<div class="section-title">Final Reminder</div>
<p>${reminder}</p>
`;

  if(usedOutputs.has(article)){
    article += `<p>${rand([
      "Revisiting assumptions early often prevents wasted effort later.",
      "Testing on a smaller scale reduces long-term regret.",
      "Clear constraints improve focus and outcomes."
    ])}</p>`;
  }

  usedOutputs.add(article);
  out.style.display="block";
  out.innerHTML=article;
}
</script>

</body>
</html>
<h2>How This Tool Works</h2>
<p>
The system analyzes keywords, intent signals, timing words, and risk indicators.
It then builds a response dynamically using logic, variation pools, and memory
to ensure outputs remain unique and relevant.
</p>

<h2>Important Limitation</h2>
<p>
This is not a real machine-learning model. It does not learn over time.
Its purpose is structured thinking and guidance, not authority or advice.
</p>
</div>

</div>

<script>
const memory = new Set();

/* ---------- Utilities ---------- */
function pick(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}

function detectLanguage(text){
  const hindiChars = /[‡§Ö-‡§π]/;
  if(hindiChars.test(text)) return "hi";
  if(text.match(/kya|mujhe|chahiye|banana|abhi/i)) return "hinglish";
  return "en";
}

function extractTopics(text){
  const t = text.toLowerCase();
  return {
    multiple: t.includes("multiple"),
    website: t.includes("website"),
    tool: t.includes("tool"),
    adsense: t.includes("adsense"),
    now: t.includes("ab") || t.includes("now"),
    later: t.includes("baad") || t.includes("later"),
    money: t.includes("income") || t.includes("money"),
    traffic: t.includes("traffic")
  };
}

/* ---------- Main Generator ---------- */
function generate(){
  const input = document.getElementById("input").value.trim();
  const out = document.getElementById("output");
  if(!input){ alert("Please write your question."); return; }

  const lang = detectLanguage(input);
  const topics = extractTopics(input);

  let focus, direct, reasoning, path, reminder;

  if(lang === "hinglish"){
    focus = topics.multiple && topics.website
      ? "Tum specifically pooch rahe ho ki multiple-tool website banana sahi rahega ya nahi."
      : "Tum apne decision ko leke clarity chah rahe ho.";

    direct = topics.multiple && topics.website && topics.now
      ? "Haan, abhi multiple-tool website banana possible hai, lekin start chhota aur focused hona chahiye."
      : "Is decision ka answer execution par depend karta hai, sirf idea par nahi.";

    reasoning = pick([
      "Zyada log isliye fail hote hain kyunki wo ek sath bahut kuch karna chahte hain.",
      "Idea se zyada important hota hai uska execution aur patience."
    ]);

    path = topics.adsense
      ? "AdSense ke liye better rahega ki pehle 2‚Äì3 high-quality tools aur strong content banao."
      : "Step-by-step approach tumhe unnecessary risk se bachayegi.";

    reminder = pick([
      "Quality hamesha quantity se aage hoti hai.",
      "Slow start ka matlab failure nahi hota."
    ]);
  }

  if(lang === "en"){
    focus = topics.multiple && topics.website
      ? "You are specifically asking whether building a multiple-tool website is the right decision."
      : "You are seeking clarity before committing to a decision.";

    direct = topics.multiple && topics.website
      ? "A multiple-tool website can work, but only with focus and gradual execution."
      : "The outcome depends more on approach than on the idea itself.";

    reasoning = pick([
      "Most failures happen due to overextension, not lack of ideas.",
      "Consistency usually beats speed in long-term projects."
    ]);

    path = topics.adsense
      ? "From an AdSense perspective, fewer high-quality tools perform better than many weak ones."
      : "A phased execution strategy reduces uncertainty.";

    reminder = pick([
      "Depth creates sustainability.",
      "Execution defines results."
    ]);
  }

  if(lang === "hi"){
    focus = "‡§Ü‡§™ ‡§Ö‡§™‡§®‡•á ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ï‡•ã ‡§≤‡•á‡§ï‡§∞ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡§§‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§";
    direct = "‡§á‡§∏‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞ ‡§á‡§∏ ‡§¨‡§æ‡§§ ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Ü‡§™ ‡§á‡§∏‡•á ‡§ï‡•à‡§∏‡•á ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§";
    reasoning = "‡§Ö‡§ß‡§ø‡§ï‡§§‡§∞ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Å ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§®‡§π‡•Ä‡§Ç, ‡§¨‡§≤‡•ç‡§ï‡§ø ‡§ú‡§≤‡•ç‡§¶‡§¨‡§æ‡§ú‡§º‡•Ä ‡§∏‡•á ‡§™‡•à‡§¶‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç‡•§";
    path = "‡§õ‡•ã‡§ü‡•á ‡§ö‡§∞‡§£‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡§®‡§æ ‡§Ö‡§ß‡§ø‡§ï ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§";
    reminder = "‡§ß‡•à‡§∞‡•ç‡§Ø ‡§î‡§∞ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡§§‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡§Ç‡•§";
  }

  let output =
`Decision Focus:
${focus}

Direct Insight:
${direct}

Reasoning:
${reasoning}

Most Realistic Outcome:
${pick([
"‡§ß‡•Ä‡§Æ‡•Ä ‡§≤‡•á‡§ï‡§ø‡§® ‡§∏‡•ç‡§•‡§ø‡§∞ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø",
"‡§™‡§π‡§≤‡•á ‡§∏‡•Ä‡§ñ‡§®‡§æ, ‡§´‡§ø‡§∞ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ",
"‡§Æ‡§ø‡§∂‡•ç‡§∞‡§ø‡§§ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§ï‡•á ‡§∏‡§æ‡§•"
])}

Practical Direction:
${path}

Key Reminder:
${reminder}`;

  if(memory.has(output)){
    output += "\n\nAdditional Perspective:\n" +
      pick([
        "Early feedback often improves long-term results.",
        "Testing assumptions early saves time later.",
        "Small validation beats big assumptions."
      ]);
  }

  memory.add(output);
  out.style.display="block";
  out.innerText=output;
}
</script>

</body>
</html>const responses = {
  tech:{
    best:[
      "If executed with focus, this decision could open multiple long-term opportunities.",
      "A structured approach may allow gradual growth without major risk."
    ],
    worst:[
      "Without clarity, this path could lead to confusion and wasted effort.",
      "Too many tools at once may reduce quality and direction."
    ],
    real:[
      "Most likely, progress will be slow initially but stable with consistency.",
      "Results will depend on execution discipline rather than idea strength."
    ]
  },
  career:{
    best:[
      "This decision could lead to personal growth and better alignment with goals.",
      "Skill development may unlock better options in the future."
    ],
    worst:[
      "Short-term instability or uncertainty may arise.",
      "Expect a learning curve and adjustment period."
    ],
    real:[
      "Gradual improvement with occasional challenges is the most realistic outcome.",
      "Balance and patience will matter more than speed."
    ]
  },
  general:{
    best:[
      "This choice may bring clarity and renewed motivation.",
      "A fresh perspective could improve confidence."
    ],
    worst:[
      "Overthinking might delay action.",
      "Unclear expectations could create frustration."
    ],
    real:[
      "A mixed outcome with learning value is most likely.",
      "Small wins will matter more than big changes."
    ]
  }
};

function generate(){
  const text = document.getElementById("input").value.trim();
  const out = document.getElementById("output");
  if(!text){alert("Please write something.");return}

  const cat = detectCategory(text);
  let attempt = 0, result;

  do{
    result =
`Decision Summary:
${pick([
"Your decision reflects a desire for progress.",
"This situation shows a search for clarity.",
"The question suggests long-term thinking."
])}

Best Case:
${pick(responses[cat].best)}

Worst Case:
${pick(responses[cat].worst)}

Most Realistic Outcome:
${pick(responses[cat].real)}

Key Insight:
${pick([
"Clarity comes from execution, not perfection.",
"Small steps matter more than big plans.",
"Consistency will shape the outcome."
])}`;
    attempt++;
  }while(memory.has(result) && attempt < 5);

  memory.add(result);
  out.style.display="block";
  out.innerText=result;
}
</script>

</body>
</html><p>
DecisionSim AI is a practical thinking tool created for people who want clarity before taking important steps in life.
Most decisions are made under pressure, emotion, or incomplete information.
This tool introduces structure into that chaos.
</p>

<p>
Instead of telling users what to do, DecisionSim AI shows how different outcomes might unfold.
It helps users pause, reflect, and think beyond immediate emotions.
</p>

<h2>Why Decision-Making Feels Difficult</h2>
<p>
Modern life forces constant decisions ‚Äî career changes, financial planning, learning new skills,
relationships, and business risks.
Many people rush decisions because uncertainty feels uncomfortable.
</p>

<p>
DecisionSim AI exists to reduce that mental pressure by showing possible paths clearly.
Seeing multiple outcomes often reduces fear and improves confidence.
</p>

<h2>How This Tool Actually Works</h2>
<p>
DecisionSim AI uses a real AI language model through a live API connection.
Every time you enter a decision, the AI evaluates context, wording, and intent.
</p>

<p>
Because the AI processes each input independently, responses are never fixed or repetitive.
Two similar questions can still produce different insights.
</p>

<h2>Understanding the Output</h2>
<p>
The results are structured into clear sections:
</p>

<ul>
<li>Decision summary</li>
<li>Best-case scenario</li>
<li>Worst-case scenario</li>
<li>Most realistic outcome</li>
<li>Key risks</li>
<li>Emotional impact</li>
<li>Long-term perspective</li>
</ul>

<p>
This structure mirrors how thoughtful humans analyze decisions in real life.
</p>

<h2>Who Should Use DecisionSim AI?</h2>
<p>
This tool is useful for students choosing career paths,
professionals evaluating opportunities,
entrepreneurs planning ventures,
and individuals facing personal crossroads.
</p>

<p>
No technical knowledge is required.
If you can explain your situation in words, the tool can help you think about it.
</p>

<h2>What This Tool Does NOT Do</h2>
<p>
DecisionSim AI does not give professional advice.
It does not predict the future.
It does not guarantee success.
</p>

<p>
Its purpose is awareness, not authority.
Users should always apply judgment and seek expert advice for serious matters.
</p>

<h2>Responsible Usage</h2>
<p>
Use this tool as a thinking partner, not a decision-maker.
Combine insights with real-world research, experience, and values.
</p>

<p>
The best decisions come from balanced thinking ‚Äî not blind trust.
</p>

<h2>Final Thoughts</h2>
<p>
DecisionSim AI is designed to slow you down in a fast world.
By exploring possibilities calmly, you gain confidence and clarity.
</p>

<p>
Good decisions rarely come from speed.
They come from understanding.
</p>

</div>

</div>

<script>
// üîê PASTE YOUR NEW GROQ API KEY BELOW
const API_KEY = "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";

async function simulate(){
  const input = document.getElementById("decision").value.trim();
  const out = document.getElementById("output");

  if(!input){
    alert("Please describe your decision.");
    return;
  }

  out.style.display = "block";
  out.innerText = "Analyzing your decision...";

  try{
    const res = await fetch("https://api.groq.com/openai/v1/chat/completions",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":"Bearer " + API_KEY
      },
      body:JSON.stringify({
        model:"llama3-8b-8192",
        messages:[
          {
            role:"system",
            content:"You analyze decisions thoughtfully. Responses must be unique, contextual, and non-repetitive. Do not give advice."
          },
          {
            role:"user",
            content:`Analyze this decision with structured insights:\n\n${input}`
          }
        ],
        temperature:0.9
      })
    });

    const data = await res.json();
    out.innerText = data.choices[0].message.content;

  }catch(e){
    out.innerText = "Error: Unable to connect to AI. Check API key or network.";
  }
}
</script>

</body>
</html>                <div class="card bg-blue-50 border border-blue-100 p-6 rounded-xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 bg-blue-600 text-white text-[10px] px-2 py-1 rounded-bl-lg font-bold">MOST LIKELY</div>
                    <div class="flex items-center gap-2 mb-3">
                        <span class="bg-blue-200 text-blue-700 p-1.5 rounded-lg text-xs font-bold">REALISTIC</span>
                        <h4 class="font-bold text-blue-900">Probability</h4>
                    </div>
                    <div id="resRealistic" class="text-sm text-blue-800 leading-relaxed"></div>
                </div>
            </div>

            <!-- Deep Analysis -->
            <div class="bg-white border border-slate-200 p-6 rounded-xl shadow-sm">
                <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                    <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    Strategic Analysis
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h5 class="font-semibold text-slate-700 mb-2 border-b border-slate-100 pb-1">‚ö†Ô∏è Risk Factors</h5>
                        <div id="resRisks" class="text-sm text-slate-600 prose-sm"></div>
                    </div>
                    <div>
                        <h5 class="font-semibold text-slate-700 mb-2 border-b border-slate-100 pb-1">üß† Emotional Impact</h5>
                        <div id="resEmotional" class="text-sm text-slate-600 prose-sm"></div>
                    </div>
                </div>
            </div>

            <!-- Long Term & Advice -->
            <div class="bg-slate-50 border border-slate-200 p-6 rounded-xl">
                <div class="mb-6">
                    <h5 class="font-semibold text-slate-800 mb-2">üìÖ 1-3 Year Perspective</h5>
                    <div id="resLongTerm" class="text-sm text-slate-600 italic"></div>
                </div>
                <div>
                    <h5 class="font-semibold text-slate-800 mb-2">üí° Practical Advice</h5>
                    <div id="resAdvice" class="text-sm text-slate-600"></div>
                </div>
            </div>

            <!-- Disclaimer -->
            <div class="text-center text-xs text-slate-400 mt-6 px-4">
                DecisionSim AI is an educational simulation tool. It does not provide professional medical, legal, or financial advice.
            </div>

        </div>

    </main>

    <!-- Bottom Ad Placeholder -->
    <div class="max-w-4xl w-full px-4">
        <div class="ad-placeholder">Advertisement Space (Bottom)</div>
    </div>

    <!-- Long Form Content -->
    <article class="max-w-3xl w-full px-4 py-12 border-t border-slate-200 mt-8 bg-white">
        <div class="prose prose-slate max-w-none">
            <h2 class="text-3xl font-bold text-slate-900 mb-6">The Architecture of Choice</h2>
            <p><strong>DecisionSim AI</strong> solves a specific cognitive bottleneck: the inability of the human brain to objectively calculate multiple future timelines simultaneously. While our brains are excellent at pattern recognition, they are notoriously bad at probability and removing emotional bias from high-stakes choices.</p>
            <h3>How to Use DecisionSim Correctly</h3>
            <p>To get the most out of this AI, you must be specific. A vague input like "How do I get rich?" will yield vague results. A specific input like "Should I invest $5,000 in stocks or use it to take a certification course?" will trigger a detailed comparative analysis.</p>
            <p class="text-sm text-slate-500 mt-4"><em>DecisionSim AI is a demonstration of applied Large Language Model logic.</em></p>
        </div>
    </article>

    <!-- Footer -->
    <footer class="w-full bg-slate-900 text-slate-400 py-6 text-center mt-auto">
        <p class="text-sm">DecisionSim AI | Not financial or legal advice.</p>
    </footer>

    <!-- LOGIC SCRIPT -->
    <script>
        // --- API & LOGIC HANDLING ---
        
        const API_KEY = "AIzaSyCZDotnZlBKmJp6GVjnDlBJIbtIC56RJR8"; 

        // LIST OF ALL POSSIBLE MODELS TO TRY (Robustness Fix)
        const MODEL_OPTIONS = [
            "gemini-1.5-flash",
            "gemini-1.5-flash-001",
            "gemini-1.5-flash-002",
            "gemini-1.5-pro",
            "gemini-1.0-pro",
            "gemini-pro"
        ];

        async function runSimulation() {
            const userInput = document.getElementById('userDecision').value.trim();
            
            // Validation
            if (!userInput || userInput.length < 5) {
                showError("Please describe your decision/situation in more detail.");
                return;
            }

            // UI State: Loading
            document.getElementById('simulateBtn').disabled = true;
            document.getElementById('simulateBtn').classList.add('opacity-75');
            document.getElementById('btnLoader').classList.remove('hidden');
            document.getElementById('errorMessage').classList.add('hidden');
            document.getElementById('resultsArea').classList.add('hidden');

            try {
                // Construct the Prompt
                const promptText = `
                    You are DecisionSim AI.
                    USER SITUATION: "${userInput}"
                    TASK: Analyze this.
                    RULES: No JSON. Use strict tags.
                    
                    OUTPUT FORMAT:
                    [SUMMARY]
                    (1 sentence summary)
                    [BEST]
                    (Best case outcome)
                    [WORST]
                    (Worst case outcome)
                    [REALISTIC]
                    (Most likely outcome with %)
                    [RISKS]
                    (Bullet points of risks)
                    [EMOTIONAL]
                    (Emotional analysis)
                    [LONGTERM]
                    (3 year view)
                    [ADVICE]
                    (3 actionable steps)
                `;

                let rawText = "";
                let success = false;
                let lastError = "";

                // --- ROBUST LOOP ---
                // Try every model until one works
                for (const modelName of MODEL_OPTIONS) {
                    try {
                        // console.log("Trying model: " + modelName); // Debugging
                        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent?key=${API_KEY}`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ contents: [{ parts: [{ text: promptText }] }] })
                        });

                        const data = await response.json();

                        if (data.error) {
                            throw new Error(data.error.message); // Try next model
                        }
                        
                        if (data.candidates && data.candidates[0].content) {
                            rawText = data.candidates[0].content.parts[0].text;
                            success = true;
                            break; // SUCCESS! Stop looping.
                        }
                    } catch (e) {
                        lastError = e.message;
                        continue; // Fail silently, try next model
                    }
                }

                if (!success) {
                    throw new Error("Connection failed. Google API might be busy. Please wait 1 minute and try again. (" + lastError + ")");
                }
                
                // Helper to extract text
                const extractSection = (tag) => {
                    const regex = new RegExp(`\\[${tag}\\]([\\s\\S]*?)(?=\\[|$)`, 'i');
                    const match = rawText.match(regex);
                    return match ? match[1].trim() : "Analysis unavailable.";
                };

                // Populate UI
                document.getElementById('resSummary').innerText = extractSection('SUMMARY');
                document.getElementById('resBest').innerText = extractSection('BEST');
                document.getElementById('resWorst').innerText = extractSection('WORST');
                document.getElementById('resRealistic').innerText = extractSection('REALISTIC');
                
                document.getElementById('resRisks').innerHTML = marked.parse(extractSection('RISKS'));
                document.getElementById('resEmotional').innerHTML = marked.parse(extractSection('EMOTIONAL'));
                document.getElementById('resLongTerm').innerText = extractSection('LONGTERM');
                document.getElementById('resAdvice').innerHTML = marked.parse(extractSection('ADVICE'));

                // Show Results
                document.getElementById('resultsArea').classList.remove('hidden');
                document.getElementById('resultsArea').scrollIntoView({ behavior: 'smooth' });

            } catch (error) {
                showError(error.message);
            } finally {
                // Reset UI
                document.getElementById('simulateBtn').disabled = false;
                document.getElementById('simulateBtn').classList.remove('opacity-75');
                document.getElementById('btnLoader').classList.add('hidden');
            }
        }

        function showError(msg) {
            const errDiv = document.getElementById('errorMessage');
            errDiv.innerText = msg;
            errDiv.classList.remove('hidden');
        }

    </script>
</body>
</html>
